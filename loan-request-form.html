<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Loan Request Form</title>
    <link rel="stylesheet" href="styles/loan-request-form.css">
    <link rel="stylesheet" href="styles/index.css">
    <link rel="stylesheet" href="styles/header-footer.css">
</head>

<body>
    <!-- Header -->
    <div id="headerPlaceholder"></div>

    <div class="container">
        <h1>Loan Request Form</h1>

        <form id="loanRequestForm" action="loan-request-form.php" method="POST" enctype="multipart/form-data">
            <!-- Category -->
            <div class="form-group category-section">
                <label class="category-label">Category</label>
                <div class="category-buttons">
                    <button type="button" class="category-btn" data-category="accidents">Accidents</button>
                    <button type="button" class="category-btn" data-category="flood">Flood Relief</button>
                    <button type="button" class="category-btn" data-category="clothes">Clothes Distribution</button>
                    <button type="button" class="category-btn" data-category="other">Other</button>
                    <button type="button" class="category-btn" data-category="emergency">Emergency</button>
                    <button type="button" class="category-btn" data-category="custom">Custom</button>

                    <input type="hidden" name="category" id="hiddenCategory"> <!-- Hidden Input for PHP -->
                    <input type="text" name="custom_category" id="customCategory" class="custom-input"
                        placeholder="Type custom category...">
                </div>
            </div>

            <!-- 1. Amount Needed -->
            <div class="form-group amount-section">
                <label class="section-label">1. Amount Needed</label>
                <input type="number" name="amount" id="amountNeeded" placeholder="Enter amount" required min="1"
                    step="0.01">
            </div>

            <!-- 2. Loan Duration -->
            <div class="form-group duration-section">
                <label class="section-label">2. Loan Duration (Months)</label>
                <div class="duration-options">
                    <label class="checkbox-label">
                        <input type="radio" name="duration" value="1" checked>
                        <span>1 month</span>
                    </label>
                    <label class="checkbox-label">
                        <input type="radio" name="duration" value="3">
                        <span>3 months</span>
                    </label>
                    <label class="checkbox-label">
                        <input type="radio" name="duration" value="6">
                        <span>6 months</span>
                    </label>
                    <label class="checkbox-label custom-duration">
                        <input type="radio" name="duration" value="custom">
                        <span>Custom</span>
                    </label>
                    <input type="text" name="custom_duration" id="customDuration" class="custom-input"
                        placeholder="Type duration">
                </div>
            </div>

            <!-- 3. Repayment Option -->
            <div class="form-group repayment-section">
                <label class="section-label">3. Repayment Option</label>
                <div class="repayment-options">
                    <label class="checkbox-label">
                        <input type="radio" name="repayment_option" value="installments" checked>
                        <span>Installments</span>
                    </label>
                    <label class="checkbox-label">
                        <input type="radio" name="repayment_option" value="onetime">
                        <span>One-time payment</span>
                    </label>
                </div>
            </div>

            <!-- 4. Reason for Loan -->
            <div class="form-group reason-section">
                <label class="section-label">4. Reason for Loan</label>
                <textarea name="reason" id="reason" rows="5" placeholder="Explain why you need this loan..."
                    required></textarea>
            </div>

            <!-- 5. Proof Documents -->
            <div class="form-group proof-section">
                <label class="section-label">5. Proof Documents</label>
                <p class="helper-text">Upload Supporting Document (Photo/PDF allowed)</p>

                <div class="examples-box">
                    <p class="examples-title">Examples:</p>
                    <ul class="examples-list">
                        <li>Hospital invoice</li>
                        <li>Academic registration paper</li>
                        <li>Business cost breakdown</li>
                    </ul>
                </div>

                <!-- Taking document type input as well for the DB -->
                <select name="doc_type" style="margin-bottom: 10px; padding: 5px;" required>
                    <option value="" disabled selected>Select Document Type</option>
                    <option value="student_id">Student ID</option>
                    <option value="nid">NID</option>
                    <option value="bill">Bill/Invoice</option>
                    <option value="proof">General Proof</option>
                    <option value="medical">Medical Report</option>
                    <option value="other">Other</option>
                </select>

                <p class="upload-instruction">Upload File</p>

                <button type="button" class="upload-btn">Choose File ðŸ“¤</button>
                <span id="fileNameDisplay" style="margin-left: 10px; color: #27ae60; font-size: 0.9em;"></span>
                <input type="file" name="loan_documents[]" id="proofUpload" multiple hidden accept="image/*,.pdf">
            </div>

            <!-- Confirmation -->
            <div class="form-group confirmation-section">
                <label class="checkbox-label confirmation">
                    <input type="checkbox" id="confirmation" required>
                    <span class="confirmation-text">I confirm that all the information provided is true.</span>
                </label>
            </div>

            <!-- Submit Button -->
            <button type="submit" name="submit_loan_request" class="submit-btn">Submit Request</button>
        </form>
    </div>

    <!-- Footer -->
    <div id="footerPlaceholder"></div>

    <script src="javascript/header-footer.js"></script>
    <script src="javascript/loan-request-form.js"></script>
</body>

</html>